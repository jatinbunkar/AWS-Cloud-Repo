# Getting Started with CloudFormation

### Description

AWS CloudFormation provides user a simple way to create and manage resources or collection of resources on
Amazon Web Services. It allows you to manage your complete infrastructure or AWS resources using a template,
you just need to describe all the resources that you want to create and AWS CloudFormation takes care of
provisioning and configuring those resources.

### Architecture Diagram
The diagram below displays a visual representation of the application architecture:

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab17-s1.png" alt="Screenshot of lab17-s1">
</p>

### Steps:

1.  Sign in to AWS Management Console
- Open a browser and go to the AWS Management Console.
- Sign in with your credentials (IAM user or root account).

2. Navigate to CloudFormation
- In the AWS Management Console, search for CloudFormation in the search bar and select it.
- This will open the AWS CloudFormation dashboard, where you can manage stacks (collections of AWS resources).

3. Create a CloudFormation Stack
- Click the Create Stack button and select With new resources (standard).
- In the Specify template section, you can choose to:
- Upload a template file: If you have a template file on your local machine (YAML or JSON format), upload it.
- Amazon S3 URL: If the template is stored in an S3 bucket, provide the URL.
- Use a sample template: AWS provides pre-built sample templates you can use for testing and learning.

4. Upload or Select a Template
- If you're using your own template, click on Upload a template file, and browse for the YAML/JSON file.
- If you’re following a sample template, click Choose sample template and select a basic example, such as an EC2 instance or an S3 bucket.


**Example template snippet for an EC2 instance:**

```yaml
Copy code
Resources:
  MyEC2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      ImageId: ami-0c55b159cbfafe1f0  # Amazon Linux 2 AMI
      InstanceType: t2.micro
      KeyName: MyKeyPair  # Ensure this KeyPair exists in your region
      SecurityGroups: 
        - default
```

- Click Next to proceed.

5. Configure Stack Details

- Enter a Stack Name (e.g., MyFirstStack).
- If your template has parameters (e.g., EC2 instance type, AMI, key pair), you'll need to enter those values here.
- Click Next.

6. Configure Stack Options (Optional)
- You can specify additional options such as:
- Tags (key-value pairs to identify your resources)
- Permissions (IAM roles for the CloudFormation stack)
- Rollback configuration
- Stack policies
- These are optional, so you can leave them as default.
- Click Next.

7. Review and Create Stack
- Review the details of your stack, including the template and parameters.
- Check the box to acknowledge that AWS CloudFormation might create IAM resources.
- Click Create Stack.

8. Monitor Stack Creation
- After clicking "Create," AWS CloudFormation will begin provisioning the resources specified in your template.
- You can monitor the progress in the Events tab of the stack details page.
- The status will change from CREATE_IN_PROGRESS to CREATE_COMPLETE when the stack is successfully created.

9. Verify Resources
- Once the stack creation is complete, you can verify the resources:
- Go to the EC2 Console if you created an EC2 instance.
- Go to the S3 Console if you created an S3 bucket.
- Or check the resources for any other services you've defined.
- You can see the created resources under the Resources tab of the CloudFormation stack.

10. Test the Application
- If you created an EC2 instance, you can SSH into it using the KeyPair and Public IP address:

      ssh -i /path/to/your-key.pem ec2-user@<EC2-Instance-Public-IP>

- Verify if the server or application you deployed (such as a web server) is running.

11. Delete the Stack (Clean Up Resources)
- Once you’re done, you can delete the stack to remove all the resources that CloudFormation created:
- Go to the CloudFormation Dashboard.
- Select the stack you created.
- Click Delete and confirm the deletion.
- This will automatically clean up all the resources in the stack (e.g., EC2 instances, S3 buckets).

### Conclusion:
By following these steps, you've learned how to use AWS CloudFormation to automate the creation of AWS resources. CloudFormation is an efficient tool for managing infrastructure as code (IaC) and allows for repeatable, scalable deployments with minimal manual intervention.
