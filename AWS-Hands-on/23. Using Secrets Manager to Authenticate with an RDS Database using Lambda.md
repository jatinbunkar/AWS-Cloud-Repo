# Using Secrets Manager to Authenticate with an RDS Database using Lambda

## Description
In this hands-on lab, you will create an RDS instance and store its credentials in AWS Secrets Manager and you will try to access the RDS instance programmatically through AWS Lambda using the secrets stored in aws
secrets manager and finally you perform some SQL operations in it.

## Architecture Diagram
The diagram below displays a visual representation of the underlying application architecture:

<img width="717" alt="image" src="https://github.com/user-attachments/assets/60badbb1-e74a-41d7-9170-e3009964556d">

## Lab Steps

Prerequisites:
-  Sign into the AWS Management Console.
-  MySQL Workbench
-  AWS RDS
- AWS Lambda
- AWS Secrets Manager

Follow the steps outlined below to achieve the objectives of this lab exercise:
1. Create an RDS MySQL Instance
*  Go to Amazon RDS console.
*  In the navigation pane, choose Databases.
*  In the Databases page, choose Create Database
  -  Choose Standard create for Choose a database creation method.
  -  Choose MySQL in Engine options.
  -  Choose the version same as the version of the MySQL Workbench that you have downloaded in the pre-requisite section.
  -  Under Templates, choose Free tier.
  -  Under Settings,
      -  Choose a name for the DB instance in DB instance identifier.
      -  (Note: It will appear as DB name under Configuration after DB creation)
      -  In Credentials Settings, choose the Master username and Master Password (and Confirm Password as well) for the DB instance.
  -  In Storage, choose General Purpose SSD (gp3) and leave Allocated storage as 20 GiB.
  -  In Connectivity,
      -  Choose VPC as Default VPC (vpc-3af53251).
      -  For Subnet group, choose ccl_rds_subnet_group
      -  Change Public access to Yes.
      -  For VPC security group, leave it as default.
  -  Expand the Additional configuration (Below Database authentication),
      -  Specify a name for the Initial database name.
      -  Uncheck Enable automated backups.
(Note: Leave it checked if you want to restore the DB instance at any point)
  -  Choose Create database.
  -  Choose the db instance that you created, under Connectivity & security click on default (sg-620a4a06). (To allow MySQL workbench to connect to RDS instance)
      - Edit the Inbound rules and add a rule with Type (MYSQL/Aurora), Source (Anywhere-IPv4)
      - Choose Save rules


<img width="675" alt="image" src="https://github.com/user-attachments/assets/9583f7d0-b412-41fe-81c6-9f848f29a418">

<img width="614" alt="image" src="https://github.com/user-attachments/assets/6bd43c6d-0f74-474a-bd2c-21517d3a782d">

<img width="611" alt="image" src="https://github.com/user-attachments/assets/99465c01-1a56-4248-8667-c83c3c73f534">

<img width="610" alt="image" src="https://github.com/user-attachments/assets/5e2cd813-00f1-4b5e-a979-1872ab123e3b">

<img width="611" alt="image" src="https://github.com/user-attachments/assets/37a8487d-15e8-481e-983b-5397b2e566f8">

<img width="613" alt="image" src="https://github.com/user-attachments/assets/b1801404-ed2b-4282-9a39-66d7f1dd32f3">

<img width="614" alt="image" src="https://github.com/user-attachments/assets/c52ded7d-1f3f-4747-97ee-2a722a3c6014">

<img width="615" alt="image" src="https://github.com/user-attachments/assets/51fb7dfc-16f7-4b20-a313-37ef62b647a4">

<img width="1196" alt="image" src="https://github.com/user-attachments/assets/86a4218d-6003-42e1-8978-c53ec8709c2d">

