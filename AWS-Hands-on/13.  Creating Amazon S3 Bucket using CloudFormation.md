# Creating Amazon S3 Bucket using CloudFormation

### Description

Amazon S3 has a simple web services interface that you can use to store and retrieve any amount of data, at any
time, from anywhere on the web. We will have buckets to store the information that can be either file/text/image etc.
You can store virtually any kind of data in any format. An Amazon S3 bucket name is globally unique, and the
namespace is shared by all AWS accounts. After uploading we can have public access or can change it and enable
versioning as well. In this lab exercise, we will use CloudFormation to create buckets.


### Architecture Diagram

The diagram below displays a visual representation of the application architecture:

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s1.png" alt="Screenshot of lab13-s1">
</p>


### Labs Steps:

Follow the steps outlined below to achieve the objective of this lab exercise:
1. Open the CloudFormation in the console which helps us in creating the resources.
2. Click on create stack, select the template is ready option and click on Upload a template file.
3. Save the following file and upload it there and click Next:

```yaml

AWSTemplateFormatVersion: '2010-09-09'
Resources:
  MyS3Bucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: jatinbunkar-cloudformation  # Replace with your unique bucket name
      AccessControl: Private  # Sets the access control to private
      VersioningConfiguration:  # Enables versioning for the bucket
        Status: Enabled
      BucketEncryption:  # Enables default encryption for the bucket
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256  # Uses SSE-S3 for encryption
      LifecycleConfiguration:  # Adds lifecycle rules for the bucket
        Rules:
          - Id: ExpireOldVersions  # A rule to expire old versions after 365 days
            Status: Enabled
            NoncurrentVersionExpirationInDays: 365
          - Id: CleanupIncompleteUploads  # A rule to delete incomplete multipart uploads after 7 days
            Status: Enabled
            AbortIncompleteMultipartUpload:
              DaysAfterInitiation: 7
      PublicAccessBlockConfiguration:  # Blocks all public access
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
```


4. Specify a name to the stack and leave the rest of the settings to their default values and create the stack.
5. Once the stack creation is complete, navigate to S3 and find the bucket that was created by
CloudFormation.
6. Click on that bucket. You can use the upload option to add objects into the bucket and you can also enable
versioning by navigating properties tab and enabling versioning.
Note: You can also Host static websites in S3, by directly uploading those files and configuring those files
in Static Website hosting under properties tab and using the URL given there to access the website.

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s2.png" alt="Screenshot of lab13-s2">
</p>

<br>

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s3.png" alt="Screenshot of lab13-s3">
</p>

<br>

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s4.png" alt="Screenshot of lab13-s4">
</p>

<br>

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s5.png" alt="Screenshot of lab13-s5">
</p>

<br>

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s6.png" alt="Screenshot of lab13-s6">
</p>

<br>

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s7.png" alt="Screenshot of lab13-s7">
</p>

<br>

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s8.png" alt="Screenshot of lab13-s8">
</p>

---

### Task Completed

### Resource Cleanup - Delete the Cloudformation Stack.

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s9.png" alt="Screenshot of lab13-s9">
</p>

<br>

<p align="center">
  <img src="https://github.com/jatinbunkar/AWS-Clouds/blob/0a22cd068ace1a6760771de0e8b737ca65058fdd/Screenshots/lab13-s10.png" alt="Screenshot of lab13-s10">
</p>

### Supporting References
Refer the below links for additional information:
1. [AWS Documnetation: S3-bucket-Versioning](https://docs.aws.amazon.com/AmazonS3/latest/dev/Versioning.html)
2. [AWS Documnetation: aws-properties-s3-bucket](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html)


